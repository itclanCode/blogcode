(window.webpackJsonp=window.webpackJsonp||[]).push([[439],{2109:function(s,t,a){"use strict";a.r(t);var n=a(12),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"vue-基础面试题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-基础面试题"}},[s._v("#")]),s._v(" vue 基础面试题")]),s._v(" "),a("TOC"),s._v(" "),a("h2",{attrs:{id:"第-1-题-为什么-vue-组件中的-data-是函数而不是对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-1-题-为什么-vue-组件中的-data-是函数而不是对象"}},[s._v("#")]),s._v(" 第 1 题-为什么 vue 组件中的 data 是函数而不是对象")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// data是一个函数,data: function() {}的简写")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 页面要初始化的数据")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'itclanCoder'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("而非:如下所示")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// data是一个对象")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'itclanCoder'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("当一个组件被定义,"),a("code",[s._v("data")]),s._v("必须声明为返回一个初始数据对象的函数,因为组件可能被用来创建多个实例")]),s._v(" "),a("p",[s._v("也就是说,在很多页面中,定义的组件可以复用在多个页面")]),s._v(" "),a("p",[a("strong",[s._v("如果"),a("code",[s._v("data")]),s._v("是一个纯碎的对象,则所有的实例将共享引用同一份"),a("code",[s._v("data")]),s._v("数据对象,无论在哪个组件实例中修改"),a("code",[s._v("data")]),s._v(",都会影响到所有的组件实例")])]),s._v(" "),a("p",[a("strong",[s._v("如果"),a("code",[s._v("data")]),s._v("是函数,每次创建一个新实例后,调用"),a("code",[s._v("data")]),s._v("函数,从而返回初始数据的一个全新副本数据对象")])]),s._v(" "),a("p",[s._v("这样每复用一次组件,会返回一份新的"),a("code",[s._v("data")]),s._v("数据,类似于给每个组件实例创建一个私有的数据空间,让各个组件的实例各自独立,互不影响,保持低耦合")]),s._v(" "),a("p",[s._v("可以看下面一段代码")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 声明构造器函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 原型下挂载一对象,并有name属性")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'itclanCoder'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" p1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" p2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\np1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'川川'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 川川")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 川川")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("挂载在原型下属性如果是一个对象,实例化出来的对象(p1,p2)都指向的是同一份实体")]),s._v(" "),a("p",[s._v("原型下的属性相当于是公有的")]),s._v(" "),a("p",[s._v("修改一个实例对象下的属性,也会造成另一个实例属性跟着改变,这样在组件复用的时候,肯定是不行的,那么改成函数就可以了的")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("data")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'itclanCoder'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" p1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" p2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Person")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\np1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'随笔川迹'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果是函数的形式去定义属性,它是有自定的作用域的,在修改的时候不会影响到别人")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 随笔川迹")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// itclanCoder")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h2",{attrs:{id:"第-2-题-vue-router-路由的模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-2-题-vue-router-路由的模式"}},[s._v("#")]),s._v(" 第 2 题-vue-router 路由的模式")]),s._v(" "),a("p",[a("code",[s._v("vue-router")]),s._v(" 默认 "),a("code",[s._v("hash")]),s._v(" 模式 —— 使用 "),a("code",[s._v("URL")]),s._v(" 的 "),a("code",[s._v("hash")]),s._v(" 来模拟一个完整的 "),a("code",[s._v("URL")]),s._v("，于是当 "),a("code",[s._v("URL")]),s._v(" 改变时，页面不会重新加载")]),s._v(" "),a("p",[s._v("如下所示")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("http")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localhost"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("#home\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果觉得"),a("code",[s._v("hash")]),s._v("很丑，我们可以用路由的 "),a("code",[s._v("history")]),s._v(" 模式，这种模式充分利用 "),a("code",[s._v("history.pushState API")]),s._v("来完成 "),a("code",[s._v("URL")]),s._v("跳转而无须重新加载页面")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" router "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("VueRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'history'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("routes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("如下所示")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("http")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("localhost"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("配置路由模式:")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("hash")]),s._v(": 使用 "),a("code",[s._v("URL hash")]),s._v(" 值来作路由。支持所有浏览器，包括不支持 "),a("code",[s._v("HTML5 History Api")]),s._v("的浏览器。")]),s._v(" "),a("li",[a("code",[s._v("history")]),s._v(": 依赖 "),a("code",[s._v("HTML5 History API")]),s._v(" 和服务器配置。查看 "),a("code",[s._v("HTML5 History")]),s._v(" 模式。")]),s._v(" "),a("li",[a("code",[s._v("abstract")]),s._v(": 支持所有 "),a("code",[s._v("JavaScript")]),s._v(" 运行环境，如 "),a("code",[s._v("Node.js")]),s._v(" 服务器端。如果发现没有浏览器的 "),a("code",[s._v("API")]),s._v("，路由会自动强制进入这个模式")])]),s._v(" "),a("p",[a("code",[s._v("base")]),s._v("为应用的基础路径,例如:整个单页面应用服务在"),a("code",[s._v("/app/")]),s._v("下,那么"),a("code",[s._v("base")]),s._v("就应该设为"),a("code",[s._v("/app/")]),s._v(",当你在"),a("code",[s._v("HTML5 history")]),s._v("模式下使用"),a("code",[s._v("base")]),s._v("选项之后,所有的"),a("code",[s._v("to")]),s._v("属性都不需要写基础路径了")]),s._v(" "),a("h2",{attrs:{id:"第-3-题-写一下-vue2-实例的生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-3-题-写一下-vue2-实例的生命周期"}},[s._v("#")]),s._v(" 第 3 题-写一下 vue2 实例的生命周期")]),s._v(" "),a("p",[s._v("生命周期函数(钩子函数):在特定的阶段,能够自动执行的函数,总共分为 8 个阶段:创建前/后,载入前/后,更新前/后,销毁前/后")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("beforeCreate阶段")]),s._v(": "),a("code",[s._v("vue")]),s._v("实例挂载元素"),a("code",[s._v("el")]),s._v("和数据对象"),a("code",[s._v("data")]),s._v("都为"),a("code",[s._v("undefined")]),s._v(",还未初始化")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("在当前阶段"),a("code",[s._v("data")]),s._v(","),a("code",[s._v("methods")]),s._v(","),a("code",[s._v("computed")]),s._v("以及"),a("code",[s._v("watch")]),s._v("上的数据和方法都不能被访问")]),s._v(" "),a("p",[a("strong",[s._v("应用场景:")])]),s._v(" "),a("ol",[a("li",[s._v("可以在此时加一些"),a("code",[s._v("loading")]),s._v("效果,在"),a("code",[s._v("created")]),s._v("时进行移除")]),s._v(" "),a("li",[s._v("也可以在此阶段做一些页面拦截,当进入一个路由时,可以判断是否有权限进去,是否安全,携带参数是否完整,参数是否安全,使用好这个钩子的时候就避免了让页面去判断,省掉了创建一个组件"),a("code",[s._v("vue")]),s._v("实例")]),s._v(" "),a("li",[s._v("做自定义重定向,当路由还没有进去时,判断是否正确进去,若不正确则可以重定向到指定的页面")]),s._v(" "),a("li",[s._v("想要在实例化数据之前做什么事情,都可以在这个钩子函数里设置")])])]),s._v(" "),a("ol",[a("li",[a("code",[s._v("created阶段")]),s._v(": "),a("code",[s._v("vue")]),s._v("实例的数据对象"),a("code",[s._v("data")]),s._v("有了,"),a("code",[s._v("el")]),s._v("还没有,在实例创建完成后会被立即调用。在这一阶段，实例已完成,数据观测("),a("code",[s._v("data observer")]),s._v(")，"),a("code",[s._v("property")]),s._v(" 和方法的运算，"),a("code",[s._v("watch/event")]),s._v(" 事件回调")])]),s._v(" "),a("p",[s._v("然而，挂载阶段还没开始，"),a("code",[s._v("$el property")]),s._v("目前尚不可用")]),s._v(" "),a("p",[s._v("在这一阶段可以做一些初始化数据的获取,在当前阶段无法与"),a("code",[s._v("DOM")]),s._v("进行交互,如果非要做,可以通过"),a("code",[s._v("vm.$nextTick")]),s._v("来访问"),a("code",[s._v("DOM")])]),s._v(" "),a("p",[a("strong",[s._v("应用场景")]),s._v(": 需要异步请求数据的方法可以在此时执行，完成数据的初始化("),a("code",[s._v("Ajax")]),s._v("请求放在这个阶段也是可以的)")]),s._v(" "),a("p",[a("strong",[s._v("挂载时")])]),s._v(" "),a("ul",[a("li",[a("code",[s._v("beforeMount")]),s._v(": 在挂载开始之前被调用,相关的"),a("code",[s._v("render")]),s._v("函数首次被调用")]),s._v(" "),a("li",[a("code",[s._v("mounted")]),s._v(": 实例已经挂载完成,可以进行一些"),a("code",[s._v("DOM")]),s._v("操作")])]),s._v(" "),a("p",[a("strong",[s._v("载入前/后")])]),s._v(" "),a("ol",[a("li",[a("code",[s._v("beforeUpdate阶段")]),s._v(": 在挂载开始之前被调用: 相关的 "),a("code",[s._v("render")]),s._v(" 函数首次会被调用,监测到"),a("code",[s._v("data")]),s._v("发生变化,在变化的数据重新渲染视图之前会触发,这也是重新渲染之前最后修改数据的机会")])]),s._v(" "),a("p",[s._v("可以在当前阶段进行更改数据,不会造成重渲染")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("code",[s._v("updated")]),s._v(": 监测到"),a("code",[s._v("data")]),s._v("发生变化,并完成渲染更新视图之后触发,虚拟 DOM 重新渲染和打补丁之后调用,组合新的"),a("code",[s._v("DOM")]),s._v("已经更新,避免在这个钩子函数中操作数据,防止死循环")])]),s._v(" "),a("p",[a("strong",[s._v("销毁前/后")])]),s._v(" "),a("ol",[a("li",[a("code",[s._v("beforeDestory阶段")]),s._v(": 实例销毁前调用,实例还可以用,"),a("code",[s._v("this")]),s._v("能获取到实例,常用于销毁定时器,解绑事件")])]),s._v(" "),a("p",[s._v("在当前阶段实例完全可以被使用,我们可以在时进行善后收尾工作,比如:清除计时器")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("code",[s._v("destoryed阶段")]),s._v(": 实例销毁后调用,调用后所有事件监听器会被移除,所有的子实例都会被销毁,当前阶段组件被拆解,数据绑定被卸除,监听被移出,子实例也统统被销毁")])]),s._v(" "),a("h2",{attrs:{id:"第-4-题-vue-的父组件和子组件声明周期钩子执行顺序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-4-题-vue-的父组件和子组件声明周期钩子执行顺序"}},[s._v("#")]),s._v(" 第 4 题-vue 的父组件和子组件声明周期钩子执行顺序")]),s._v(" "),a("p",[s._v("第一次页面加载时会触发"),a("code",[s._v("beforeCreate")]),s._v(","),a("code",[s._v("created")]),s._v(","),a("code",[s._v("beforeMount")]),s._v(","),a("code",[s._v("mounted")])]),s._v(" "),a("p",[s._v("渲染过程:")]),s._v(" "),a("p",[s._v("父组件挂载完成一定是等子组件都挂载完后,才算是父组件挂载完,所以父组件的"),a("code",[s._v("mounted")]),s._v("在子组件"),a("code",[s._v("mounted")]),s._v("之后")]),s._v(" "),a("p",[s._v("父组件"),a("code",[s._v("beforeCreate")]),s._v("--\x3e父"),a("code",[s._v("created")]),s._v("--\x3e父"),a("code",[s._v("beforeMount")]),s._v("--\x3e 子"),a("code",[s._v("beforeCreate")]),s._v("--\x3e子"),a("code",[s._v("created")]),s._v("--\x3e子"),a("code",[s._v("beforeMount")]),s._v("---\x3e子"),a("code",[s._v("mounted")]),s._v(" --\x3e 父"),a("code",[s._v("mounted")])]),s._v(" "),a("p",[s._v("父组件更新过程")]),s._v(" "),a("p",[s._v("影响到子组件: 父"),a("code",[s._v("beforeUpdate")]),s._v("--\x3e子"),a("code",[s._v("beforeUpdate")]),s._v("--\x3e子"),a("code",[s._v("updated")]),s._v("---\x3e父"),a("code",[s._v("updated")])]),s._v(" "),a("p",[s._v("不影响子组件: 父"),a("code",[s._v("beforeUpdate")]),s._v("--\x3e父"),a("code",[s._v("updated")]),s._v(" "),a("strong",[s._v("销毁过程")])]),s._v(" "),a("p",[s._v("父"),a("code",[s._v("beforeDestory")]),s._v("--\x3e子"),a("code",[s._v("beforeDestory")]),s._v("--\x3e子"),a("code",[s._v("destoryed")]),s._v("--\x3e父"),a("code",[s._v("destroyed")])]),s._v(" "),a("p",[a("strong",[s._v("注意:")]),s._v(" 父组件等待子组件完成后,才会执行自己对应完成的钩子")]),s._v(" "),a("h2",{attrs:{id:"第-5-题-vue-js-dom-渲染性能为什么比-jquery-快"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-5-题-vue-js-dom-渲染性能为什么比-jquery-快"}},[s._v("#")]),s._v(" 第 5 题-vue.js DOM 渲染性能为什么比 jQuery 快?")]),s._v(" "),a("p",[a("code",[s._v("vue")]),s._v("通过建立一个虚拟 "),a("code",[s._v("DOM")]),s._v("来追踪自己要如何改变真实的"),a("code",[s._v("DOM")]),s._v("\n通过数据改变去"),a("code",[s._v("diff")]),s._v("差异,而"),a("code",[s._v("jq")]),s._v("创建之后,比如:更新,会去拼接字符串,再渲染,但是"),a("code",[s._v("dom")]),s._v("节点上包含很多属性,每次都要重复变,是很浪费性能的,所以就有了虚拟"),a("code",[s._v("DOM")]),s._v(",与数据进行绑定,只有数据变了,"),a("code",[s._v("dom")]),s._v("也会跟着变")]),s._v(" "),a("h2",{attrs:{id:"第-6-题-vue-脚手架编译后-如果存在过大的-js-文件怎么处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-6-题-vue-脚手架编译后-如果存在过大的-js-文件怎么处理"}},[s._v("#")]),s._v(" 第 6 题-vue 脚手架编译后,如果存在过大的 js 文件怎么处理?")]),s._v(" "),a("ul",[a("li",[s._v("把一些不常改变的库放到"),a("code",[s._v("index.html")]),s._v("中,通过"),a("code",[s._v("cdn")]),s._v("的方式引入")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<script src="https://unpkg.com/vue@2.5.2/dist/vue.js"><\/script>\n<script src="https://unpkg.com/vue-router@3.0.1/dist/vue-router.js"><\/script>\n<script src="https://unpkg.com/axios@0.18.0/dist/axios.min.js"><\/script>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("然后找到"),a("code",[s._v("build/webpack.base.config.js")]),s._v("文件,在"),a("code",[s._v("module.exports={}")]),s._v("中添加以下代码")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("externals")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'vue'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'element-ui'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'element'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'axios'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'axios'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("通过路由的懒加载")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("VueRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("history")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("routes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Account'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("compontent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@/components/Account'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("剥离"),a("code",[s._v("css")]),s._v("文件,单独打包")])]),s._v(" "),a("p",[s._v("安装"),a("code",[s._v("webpack")]),s._v("插件"),a("code",[s._v("extract-text-webpack-plugin")]),s._v(","),a("code",[s._v("npm install extract-text-webpack-plguin --save-dev")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ExtractTextPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'static/css/styles.[contenthash].css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("开启"),a("code",[s._v("gzip")]),s._v("压缩")])]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("compression-webpack-plugin")]),s._v("插件进行压缩\n安装"),a("code",[s._v("npm install compression-webpack --save-dev")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" CompressionPlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'compression-webpack-plugin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CompressionPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("asset")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[path].gz[query]'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//目标资源名称。[file] 会被替换成原资源。[path] 会被替换成原资源路径，[query] 替换成原查询字符串")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("algorithm")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'gzip'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//算法")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RegExp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\\\.(js|css)$'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//压缩 js 与 css")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("threshold")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10240")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//只处理比这个值大的资源。按字节计算")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("minRatio")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//只有压缩率比这个值小的资源才会被处理")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h2",{attrs:{id:"第-7-题-谈谈对-spa-单⻚面的理解-优缺点是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-7-题-谈谈对-spa-单⻚面的理解-优缺点是什么"}},[s._v("#")]),s._v(" 第 7 题-谈谈对 SPA 单⻚⾯的理解，优缺点是什么？")]),s._v(" "),a("p",[s._v("仅仅在 web 页面初始化时加载相应的"),a("code",[s._v("html")]),s._v(","),a("code",[s._v("javaScript")]),s._v("和"),a("code",[s._v("css")]),s._v("一旦页面加载完成,"),a("code",[s._v("SPA")]),s._v("不会因为用户的操作而进行页面的重新加载或跳转,取而代之的是利用路由机制实现"),a("code",[s._v("html")]),s._v("内容的变换,"),a("code",[s._v("UI")]),s._v("与用户的交互,避免页面的重新加载")]),s._v(" "),a("p",[a("strong",[s._v("优点:")])]),s._v(" "),a("ol",[a("li",[s._v("用户体验好,快,内容的改变不需要重新加载整个页面,避免了不必要的跳转和重复渲染")]),s._v(" "),a("li",[s._v("SPA 相对服务器压力小")]),s._v(" "),a("li",[s._v("前后端职责分离,架构清晰,前端进行交互逻辑,后端负责数据处理")])]),s._v(" "),a("p",[a("strong",[s._v("缺点:")])]),s._v(" "),a("ol",[a("li",[s._v("首屏初次加载慢:为实现单页面 web 应用功能及显示效果,需要在加载页面的时候将"),a("code",[s._v("javaScript,css")]),s._v("统一加载,部分页面按需加载")]),s._v(" "),a("li",[s._v("不利于"),a("code",[s._v("seo")]),s._v(",由于所有的内容都在一个页面中动态替换显示,所以在"),a("code",[s._v("seo")]),s._v("上有着天然的弱势")])]),s._v(" "),a("h2",{attrs:{id:"第-8-题-怎么提高首屏渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-8-题-怎么提高首屏渲染"}},[s._v("#")]),s._v(" 第 8 题-怎么提高首屏渲染")]),s._v(" "),a("p",[s._v("安装"),a("code",[s._v("webpack-bundle-analyzer")]),s._v("这个插件,然后使用"),a("code",[s._v("npm run build --report")]),s._v("输出项目打包情况,直观的比较哪个"),a("code",[s._v("bundle")]),s._v("文件的大小,有针对性的模块化拆分")]),s._v(" "),a("ul",[a("li",[s._v("路由懒加载\n在 "),a("code",[s._v("router.js")]),s._v("文件中，原来的静态引用方式，如")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" ShowBlogs "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@/components/ShowBlogs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("routes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Blogs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ShowBlogs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("component"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ShowBlogs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("改为")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("routes")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n \t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Blogs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n \t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ShowBlogs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n \t\t"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("component")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./components/ShowBlogs.vue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("如果是在 "),a("code",[s._v("vuecli 3")]),s._v("中，我们还需要多做一步工作\n因为 "),a("code",[s._v("vuecli 3")]),s._v("默认开启 "),a("code",[s._v("prefetch")]),s._v("(预先加载模块)，提前获取用户未来可能会访问的内容\n在首屏会把这十几个路由文件，都一口气下载了\n所以我们要关闭这个功能，在 "),a("code",[s._v("vue.config.js")]),s._v("中设置")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// vue.config.js")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("chainWebpack")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 移除prefetch插件")]),s._v("\n    config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("plguins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("delete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'prefetch'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 或者")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 修改它的选项")]),s._v("\n    config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'prefetch'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fileBlacklist "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fileBlacklist "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fileBlacklist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("myasyncRoute(.)+?\\.js$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("ul",[a("li",[s._v("一些 UI 框架按需加载,不要整个的引入\n这里以饿了么 ui 为例：\n原本的引进方式引进了整个包")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" ElementUI "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'element-ui'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ElementUI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("如果只用了按钮,表单,分页，表格,提示等更改为")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  Button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Input"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Pagination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  Table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  TableColumn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  MessageBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'element-ui'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Button"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Input"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Pagination"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$alert "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MessageBox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("alert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("注意 "),a("code",[s._v("MessageBox")]),s._v("注册方法的区别，虽然用到了"),a("code",[s._v("alert")]),s._v("，但并不需要引入 "),a("code",[s._v("Alert")]),s._v("组件")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v(".babelrc / babel.config.js")]),s._v("文件中添加（"),a("code",[s._v("vue-cli 3")]),s._v("要先安装 "),a("code",[s._v("babel-plugin-component")]),s._v(")")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'component'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("libraryName")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'element-ui'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("styleLibraryName")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'theme-chalk'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("gzip 压缩\n安装 "),a("code",[s._v("compression-webpack-plugin")])])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("cnpm i compression"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("webpack"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在 "),a("code",[s._v("vue.congig.js")]),s._v("中引入并修改 "),a("code",[s._v("webpack")]),s._v("配置")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" CompressionPlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'compression-webpack-plugin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("configureWebpack")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 为生产环境修改配置...")]),s._v("\n            config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CompressionPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$|\\.html$|\\.css")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//匹配文件名")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("threshold")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10240")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//对超过10k的数据进行压缩")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("deleteOriginalAssets")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//是否删除原文件")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[a("strong",[s._v("注意")]),s._v(":在服务器也要做相应的配置，如果发送请求的浏览器支持 "),a("code",[s._v("gzip")]),s._v("，就发送给它"),a("code",[s._v("gzip")]),s._v("格式的文件\n如果服务器是用"),a("code",[s._v("express")]),s._v("框架搭建的\n只要安装一下 "),a("code",[s._v("compression")]),s._v("就能使用,其他也类似")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" compression "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'compression'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("compression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 要放在所有其他中间件注册之前")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("首屏内容可以做静态缓存("),a("code",[s._v("hash+")]),s._v("强缓存的一个方案。比如"),a("code",[s._v("hash+ cache control: max-age=1")]),s._v("年)")]),s._v(" "),a("li",[s._v("首屏内联 "),a("code",[s._v("css")]),s._v(" 渲染")]),s._v(" "),a("li",[s._v("图片懒加载(可以通过给"),a("code",[s._v("img")]),s._v("标签上添加"),a("code",[s._v("loading=lazy")]),s._v(")来开启懒加载模式")]),s._v(" "),a("li",[s._v("使用字体图标代替小图片")]),s._v(" "),a("li",[s._v("图片尺寸大小控制适当")]),s._v(" "),a("li",[s._v("利用好"),a("code",[s._v("script")]),s._v("标签的"),a("code",[s._v("async")]),s._v("和"),a("code",[s._v("defer")]),s._v("这两个属性,功能独立且不要求马上执行的"),a("code",[s._v("js")]),s._v("文件,可以加入"),a("code",[s._v("async")]),s._v("属性,如果是优先级低且没有依赖的"),a("code",[s._v("js")]),s._v(",可以加入"),a("code",[s._v("defer")]),s._v("属性")]),s._v(" "),a("li",[s._v("前端做一些接口的缓存:缓存的位置有两个: 一个是内存,即赋值给运行时的变量,另一个是"),a("code",[s._v("localStorage")]),s._v(",比如签到日历(展示用户是否签到),可以缓存这样的接口到"),a("code",[s._v("localStorage")]),s._v(",有效期是当天,或者有个列表页,我们总是缓存上次的列表内容到本地,下次加载时,我们先从本地读取缓存,并同时发起请求到服务器获取最新列表")])]),s._v(" "),a("ul",[a("li",[s._v("页面使用骨架屏(元素进行占位)")]),s._v(" "),a("li",[s._v("使用"),a("code",[s._v("ssr")]),s._v("渲染:服务器性能一般都很好,那么可以在服务器先把"),a("code",[s._v("vdom")]),s._v("计算完后,在输出给前端")]),s._v(" "),a("li",[s._v("引入"),a("code",[s._v("http2.0")]),s._v(","),a("code",[s._v("http2.0")]),s._v("对比"),a("code",[s._v("http1.1")]),s._v("最主要的是提升是传输性能,在接口小而多的时候更加明显")]),s._v(" "),a("li",[s._v("选择先进的图片格式:使用"),a("code",[s._v("webP")]),s._v("的图片格式来代替现有的"),a("code",[s._v("jpeg")]),s._v("和"),a("code",[s._v("png")]),s._v(",当页面图片较多时,这点作用非常明显")]),s._v(" "),a("li",[s._v("利用好"),a("code",[s._v("http")]),s._v("压缩:即使是最普通的"),a("code",[s._v("gzip")]),s._v(",也能把文件大小压缩不小")])]),s._v(" "),a("h2",{attrs:{id:"第-9-题-new-vue-发生了什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-9-题-new-vue-发生了什么"}},[s._v("#")]),s._v(" 第 9 题-"),a("code",[s._v("new Vue()")]),s._v("发生了什么?")]),s._v(" "),a("p",[a("code",[s._v("new Vue()")]),s._v("是创建了"),a("code",[s._v("vue")]),s._v("实例,它内部执行了根实例的初始化过程")]),s._v(" "),a("p",[s._v("具体包括以下操作")]),s._v(" "),a("ul",[a("li",[s._v("选项合并")]),s._v(" "),a("li",[a("code",[s._v("$children")]),s._v(","),a("code",[s._v("$refs")]),s._v(","),a("code",[s._v("$slots")]),s._v(","),a("code",[s._v("$createElement")]),s._v("等")]),s._v(" "),a("li",[s._v("自定义事件处理")]),s._v(" "),a("li",[s._v("数据响应式处理")]),s._v(" "),a("li",[s._v("生命周期钩子调用("),a("code",[s._v("beforecreate created")]),s._v(")")]),s._v(" "),a("li",[s._v("挂载")])]),s._v(" "),a("p",[a("code",[s._v("new Vue()")]),s._v("创建了根实例并准备好数据和方法,未来执行挂载时,此过程还会递归的应用于它的子组件上,最终形成了一个有紧密关系的组件实例树")]),s._v(" "),a("h2",{attrs:{id:"第-10-题-vue-use-是干什么的-原理是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-10-题-vue-use-是干什么的-原理是什么"}},[s._v("#")]),s._v(" 第 10 题-Vue.use 是干什么的,原理是什么?")]),s._v(" "),a("p",[a("code",[s._v("Vue.use")]),s._v("是用来使用插件的,我们可以在插件中"),a("strong",[s._v("拓展全局组件")]),s._v(","),a("strong",[s._v("指令")]),s._v(","),a("strong",[s._v("原型方法")]),s._v("等")]),s._v(" "),a("ol",[a("li",[s._v("检查插件是否注册,若已注册,则直接跳出")]),s._v(" "),a("li",[s._v("处理入参,将第一个参数之后的参数归集,并在首部塞入"),a("code",[s._v("this")]),s._v("上下文")]),s._v(" "),a("li",[s._v("执行注册方法,调用定义好的"),a("code",[s._v("install")]),s._v("方法,传入处理的参数,若没有"),a("code",[s._v("install")]),s._v("方法并且插件本身为"),a("code",[s._v("function")]),s._v("则直接进行注册")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("ol",[a("li",[s._v("插件不能重复的加载")]),s._v(" "),a("li",[s._v("install 方法的第一个参数是"),a("code",[s._v("vue")]),s._v("的构造函数,其他参数是"),a("code",[s._v("vue.set")]),s._v("中除了第一个参数的其他参数,代码:"),a("code",[s._v("args.unshift(this)")])]),s._v(" "),a("li",[s._v("调用插件的"),a("code",[s._v("install")]),s._v("方法,代码: "),a("code",[s._v("typeof plugin.install === 'function'")])]),s._v(" "),a("li",[s._v("插件本身是一个函数,直接让函数执行,代码:"),a("code",[s._v("plugin.apply(null, args)")])]),s._v(" "),a("li",[s._v("缓存插件:代码:"),a("code",[s._v("installedPlguins.push(plugin)")])])])]),s._v(" "),a("h2",{attrs:{id:"第-11-题-说一下响应式数据的理解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-11-题-说一下响应式数据的理解"}},[s._v("#")]),s._v(" 第 11 题-说一下响应式数据的理解")]),s._v(" "),a("p",[s._v("根据数据类型来做不同的处理,数组和对象类型当值变化时如何劫持")]),s._v(" "),a("ol",[a("li",[s._v("对象内部通过"),a("code",[s._v("defineReactive")]),s._v("方法,使用"),a("code",[s._v("Object.defineProperty()")]),s._v("监听数据属性的"),a("code",[s._v("get")]),s._v("来进行数据依赖收集,在通过"),a("code",[s._v("set")]),s._v("来完成数据更新的派发")]),s._v(" "),a("li",[s._v("数组则通过重写数组方法来实现的,拓展它的 7 个变更方法,通过监听这些方法可以做到依赖收集和派发更新("),a("code",[s._v("push/pop/shift/unshift/splice/reverse/sort")]),s._v(")")]),s._v(" "),a("li",[s._v("在"),a("code",[s._v("vue3")]),s._v("中是使用"),a("code",[s._v("proxy")]),s._v("来实现响应式数据")])]),s._v(" "),a("p",[s._v("内部依赖收集是怎么做到的,每个属性都拥有自己的"),a("code",[s._v("dep")]),s._v("属性,存放它所依赖的"),a("code",[s._v("watcher")]),s._v(",当属性变化后会通知自己对应的"),a("code",[s._v("watcher")]),s._v("去更新")]),s._v(" "),a("p",[s._v("响应式流程:")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("defineReactive")]),s._v("把数据定义成响应式的")]),s._v(" "),a("li",[s._v("给属性增加一个"),a("code",[s._v("dep")]),s._v(",用来收集对应的那些"),a("code",[s._v("watcher")])]),s._v(" "),a("li",[s._v("等数据变化进行更新")]),s._v(" "),a("li",[a("code",[s._v("dep.depend()")]),s._v(" // get 取值,进行依赖收集")]),s._v(" "),a("li",[a("code",[s._v("dep.notify()")]),s._v(" // set 设置时,通知视图更新")])]),s._v(" "),a("p",[s._v("这里可以引出性能优化相关的内容:")]),s._v(" "),a("ol",[a("li",[s._v("对象层级过深,性能就会差")]),s._v(" "),a("li",[s._v("不需要响应式数据的内容不要放在"),a("code",[s._v("data")]),s._v("中")]),s._v(" "),a("li",[a("code",[s._v("object.freeze()")]),s._v("可以冻结数据")])]),s._v(" "),a("h2",{attrs:{id:"第-12-题-vue-如何检测数组变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-12-题-vue-如何检测数组变化"}},[s._v("#")]),s._v(" 第 12 题-Vue 如何检测数组变化?")]),s._v(" "),a("p",[s._v("没有考虑数组原因是有用"),a("code",[s._v("defineProperty")]),s._v("对数组的每一项进行拦截,而是选择重写数组方法以进行重写,当数组调用到这 "),a("code",[s._v("7")]),s._v(" 个方法的时候,执行"),a("code",[s._v("obj.dep.notify()")]),s._v("进行派发通知"),a("code",[s._v("watcher更新")]),s._v("，重写数组方法:"),a("code",[s._v("push/pop/shift/unshift/splice/reverse/sort")])]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("Vue")]),s._v("中修改数组的索引和长度是无法监控到的。需要通过以下 7 种变异方法修改数组才会触发数组对应的"),a("code",[s._v("wacther")]),s._v("进行更新。")]),s._v(" "),a("p",[s._v("数组中如果是对象数据类型也会进行递归劫持。")]),s._v(" "),a("p",[s._v("那如果想要改索引更新数据怎么办？")]),s._v(" "),a("p",[s._v("可以通过"),a("code",[s._v("Vue.set()")]),s._v("来进行处理 =》 核心内部用的是 "),a("code",[s._v("splice")]),s._v(" 方法")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 取出原型方法；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" arrayProto "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 拷贝原型方法；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" arrayMethods "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("arrayProto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 重写数组方法；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("def")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("arrayMethods"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mutator")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("notify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 调用方法时更新视图；")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"第-13-题-vue-set-方法是如何实现的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-13-题-vue-set-方法是如何实现的"}},[s._v("#")]),s._v(" 第 13 题-Vue.set 方法是如何实现的?")]),s._v(" "),a("p",[s._v("为什么"),a("code",[s._v("$set")]),s._v("可以触发更新,我们给对象和数组本身都增加了"),a("code",[s._v("dep")]),s._v("属性,当给对象新增不存在的属性则触发对象依赖的"),a("code",[s._v("watcher")]),s._v("去更新,当修改数组索引时我们调用数组本身的"),a("code",[s._v("splice")]),s._v("方法去更新数组")]),s._v(" "),a("p",[a("strong",[s._v("官方定义")]),s._v(": Vue.set(object, key, value)")]),s._v(" "),a("p",[s._v("如果是数组,调用重写"),a("code",[s._v("splice")]),s._v("方法\n代码: "),a("code",[s._v("target.splice(key, 1, val)")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("如果不是响应式的也不需要将其定义成响应式属性")]),s._v(" "),a("li",[s._v("如果是对象,将属性定义成响应式的"),a("code",[s._v("defineReactive(ob.value,key,val)")]),s._v(",通知视图更新"),a("code",[s._v("ob.dep.notify()")])])]),s._v(" "),a("h2",{attrs:{id:"第-14-题-vue-中是如何监听路由-hash-变化的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第-14-题-vue-中是如何监听路由-hash-变化的"}},[s._v("#")]),s._v(" 第 14 题-vue 中是如何监听路由 hash 变化的")]),s._v(" "),a("h2",{attrs:{id:"第15题-说说vue组件间的通信方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第15题-说说vue组件间的通信方式"}},[s._v("#")]),s._v(" 第15题-说说Vue组件间的通信方式")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("父组件向子组件通信")])]),s._v(" "),a("li",[a("p",[s._v("子组件向父组件通信")])]),s._v(" "),a("li",[a("p",[s._v("隔代组件间通信")])]),s._v(" "),a("li",[a("p",[s._v("兄弟组件间通信")])])]),s._v(" "),a("p",[s._v("props,vue自定义事件,消息订阅与发布,vuex,slot")]),s._v(" "),a("p",[s._v("方式1: props")]),s._v(" "),a("p",[s._v("通过在组件上自定义属性方式实现父向子组件通信")]),s._v(" "),a("p",[s._v("通过函数属性实现向子向父通信")]),s._v(" "),a("p",[s._v("缺点: 隔代组件和兄弟组件间通信比较麻烦")]),s._v(" "),a("p",[s._v("方式2: vue自定义事件")]),s._v(" "),a("p",[s._v("Vue内置实现,可以代替函数类型的props")]),s._v(" "),a("p",[s._v("a:绑定监听:<MyComp @eventName='callback'>")]),s._v(" "),a("p",[s._v('b: 触发(分发):事件: this.$emit("eventName",data)')]),s._v(" "),a("p",[s._v("缺点: 只适合子向父通信")]),s._v(" "),a("p",[s._v("方式3:消息订阅与发布")]),s._v(" "),a("p",[s._v("需要引入消息与发布的实现库,如:pubsub-js")]),s._v(" "),a("p",[s._v("a. 订阅消息:PubSub.suscrbe('msg',(msg,data)=>{})\nb. 发布消息:PubSub.publish('msg',data);")]),s._v(" "),a("p",[s._v("优点：此方式可实现任意的关系组件的通信")]),s._v(" "),a("p",[s._v("方式4-vuex")]),s._v(" "),a("p",[s._v("vuex是vue官方提供的集中式管理vue多组件共享状态数据的vue插件")]),s._v(" "),a("p",[s._v("优点:对组件间关系没有限制,相比于pubsub库管理更集中,更方便")]),s._v(" "),a("p",[s._v("方式5-slot")]),s._v(" "),a("p",[s._v("专门用来实现父向子传递带数据的标签")]),s._v(" "),a("p",[s._v("a:子组件\nb: 父组件")]),s._v(" "),a("p",[s._v("通信的标签模板是在父组件中解析好后在传递给子组件的")])],1)}),[],!1,null,null,null);t.default=e.exports}}]);