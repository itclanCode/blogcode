(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1101:function(e,t,s){"use strict";s(530)},1439:function(e,t,s){"use strict";s.r(t);s(36);var n=s(1407),i={name:"formVertiyCode",data:()=>({telephoneVal:"",btnText:"获取验证码",isSend:!0,t:60,smscode:""}),watch:{telephoneVal(e){(this.t=60)&&(this.isSend=this._checkPhone(e)),this.$nextTick(()=>{this.telephoneVal=e.replace(/[^0-9\.]+/g,"")})},t(e){this.t<60&&(this.isSend=!0)}},methods:{handleGetCode(){this.isSend=!0,n.a.get("https://www.easy-mock.com/mock/5f4e532a66f90555e2209861/learn/sendCode",{params:{telephoneVal:this.telephoneVal}}).then(e=>{const{smscode:t}=e.data.base;if(200==e.status){setTimeout(()=>{this.smscode=t},2e3),this.btnText=this.t+"s后重新发送";let e=window.setInterval(()=>{this.t--,this.btnText=this.t+"s后重新发送",this.t<0&&(window.clearInterval(e),this.isSend=!1,this.btnText="获取验证码",this.t=60)},1e3)}else this.$message({showClose:!0,message:e.message,type:"error"}),this.isSend=!0}).catch(e=>{console.error(e)})},handleInputBlur(e){if(console.log("输入框失去焦点时"),!/^1[3456789]\d{9}$/.test(e))return this.$message({showClose:!0,message:"您输入的电话号码有误",type:"error"}),this.isSend=!0,!1;this.isSend=!1},_checkPhone:e=>/^1[3456789]\d{9}$/.test(e)}},o=(s(1101),s(9)),l=Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("div",[t("el-input",{staticClass:"el-input",attrs:{maxlength:"11",placeholder:"请输入手机号码",clearable:""},on:{blur:function(t){return e.handleInputBlur(e.telephoneVal)}},model:{value:e.telephoneVal,callback:function(t){e.telephoneVal="string"==typeof t?t.trim():t},expression:"telephoneVal"}}),e._v(" "),t("el-button",{attrs:{disabled:e.isSend},on:{click:e.handleGetCode}},[e._v(e._s(e.btnText))]),e._v(" "),""!=e.smscode?t("div",[e._v("获取到的验证码是: "+e._s(e.smscode))]):e._e()],1)}),[],!1,null,"601228a4",null);t.default=l.exports},530:function(e,t,s){}}]);