(window.webpackJsonp=window.webpackJsonp||[]).push([[11,29,43],{1662:function(t,e,a){"use strict";a(785)},1927:function(t,e,a){"use strict";a.r(e);var i=a(943),s=a(938),n={name:"homeCityEarth",components:{watchCity:i.default,earth3D:s.default},data:()=>({switchVal:!0,isWatchCity:!0,isEarth3D:!1}),methods:{hanldeSwitchTab(t){t?(this.isWatchCity=!0,this.isEarth3D=!1):(this.isEarth3D=!0,this.isWatchCity=!1)}}},r=(a(1662),a(9)),o=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"switch-tab"},[e("el-switch",{attrs:{"active-text":"看城市","inactive-text":"看地球","active-color":"#42b983"},on:{change:t.hanldeSwitchTab},model:{value:t.switchVal,callback:function(e){t.switchVal=e},expression:"switchVal"}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isWatchCity,expression:"isWatchCity"}]},[e("watchCity")],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isEarth3D,expression:"isEarth3D"}]},[e("earth3D")],1)])}),[],!1,null,"2b3cd4bf",null);e.default=o.exports},447:function(t,e,a){"use strict";function i(t,e,a){let i,s,n,r,o;const h=function(){const c=+new Date-r;c<e&&c>0?i=setTimeout(h,e-c):(i=null,a||(o=t.apply(n,s),i||(n=s=null)))};return function(...s){n=this,r=+new Date;const c=a&&!i;return i||(i=setTimeout(h,e)),c&&(o=t.apply(n,s),n=s=null),o}}a.d(e,"a",(function(){return i}))},451:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=t=>new Promise((e,a)=>{if(document.getElementById(t))setTimeout(()=>{e()},500);else{const i=document.createElement("script");i.id=t,i.src=t,i.async=!0,document.body.appendChild(i),i.onload=function(){setTimeout(()=>{this.onerror=this.onload=null,e()},500)},i.onerror=function(){this.onerror=this.onload=null,a("加载失败"+t)}}});const{AMapCDN:s,AMapUiCDN:n}=a(497);function r(t,e=""){return new Promise((a,r)=>{function o(t,e){AMapUI.loadUI(["geo/DistrictExplorer"],i=>{(new i).loadAreaNode(t,(function(i,s){if(i)return console.error(i),void r(i);let n=s.getSubFeatures();if(0!==n.length)e&&(n=n.filter(t=>t.properties.adcode==e)),a({features:n});else{let e=s._data.geoData.parent.properties.acroutes;o(e[e.length-1],t)}}))})}window.AMap&&window.AMapUI?o(t,e):i(s).then(()=>{window.AMap?i(n).then(()=>{window.AMapUI?o(t,e):console.error("AMapUI获取失败")}):console.error("AMap获取失败")})})}},495:function(t,e,a){"use strict";var i=a(447);e.a={data:()=>({myChart:null,resizeHandler:null}),computed:{},mounted(){this.resizeHandler=Object(i.a)(()=>{this.myChart&&this.myChart.resize()},100),this.initResizeEvent()},methods:{initResizeEvent(){window.addEventListener("resize",this.resizeHandler)},destroyResizeEvent(){window.removeEventListener("resize",this.resizeHandler)}},beforeDestroy(){this.destroyResizeEvent(),this.myChart&&(this.myChart.dispose(),this.myChart.off("click"),this.myChart=null)},activated(){this.initResizeEvent(),this.myChart&&this.myChart.resize()},deactivated(){this.destroyResizeEvent()},watch:{}}},497:function(t,e){t.exports={AMapCDN:"https://webapi.amap.com/maps?v=1.3&key=73cddabc2173e0166a622f4483d3592a&plugin=AMap.DistrictSearch",AMapUiCDN:"https://webapi.amap.com/ui/1.0/main.js",VueCDN:"https://cdn.bootcdn.net/ajax/libs/vue/2.6.12/vue.min.js",AxiosCDN:"https://cdn.bootcdn.net/ajax/libs/axios/0.21.0/axios.min.js",VueRouterCDN:"https://cdn.bootcdn.net/ajax/libs/vue-router/3.2.0/vue-router.min.js",VuexCDN:"https://cdn.bootcdn.net/ajax/libs/vuex/3.5.1/vuex.min.js",TinymceCDN:"https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",html2canvasCDN:"https://cdn.jsdelivr.net/npm/html2canvas@1.0.0-rc.7/dist/html2canvas.min.js"}},498:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var i=a(451);function s(t){return new Promise((e,a)=>{Object(i.a)(t).then(t=>{const a=t.features.map(t=>({name:t.properties.name,value:parseFloat((3e3*Math.random()).toFixed(2)),adcode:t.properties.adcode,level:t.properties.level}));e({code:200,data:a})}).catch(t=>{a(t)})})}},499:function(t,e,a){t.exports=a.p+"assets/img/worldbathy.c29637be.jpg"},500:function(t,e,a){},501:function(t,e,a){},593:function(t,e,a){t.exports=a.p+"assets/img/starfield.aeaf4baf.jpg"},594:function(t,e,a){"use strict";a(500)},595:function(t,e,a){"use strict";a(501)},785:function(t,e,a){},938:function(t,e,a){"use strict";a.r(e);var i=a(1),s=a(469),n=a.n(s),r=(a(781),a(499)),o=a.n(r),h=a(593),c=a.n(h),l={backgroundColor:"#2d3a4b",globe:{baseTexture:o.a,heightTexture:o.a,displacementScale:.04,shading:"realistic",environment:c.a,realisticMaterial:{roughness:.9},postEffect:{enable:!0},light:{main:{intensity:5,shadow:!0},ambientCubemap:{diffuseIntensity:.2}}}},d=a(447);i.default.prototype.echarts=n.a;var u={name:"earth3D",data:()=>({myChart:null,resizeHandler:null}),mounted(){this.myChart=n.a.init(this.$refs.Globe3d),this.myChart.setOption(l),this.resizeHandler=Object(d.a)(()=>{this.myChart&&this.myChart.resize()},100),this.initResizeEvent()},methods:{initResizeEvent(){window.addEventListener("resize",this.resizeHandler)},destroyResizeEvent(){window.removeEventListener("resize",this.resizeHandler)}},beforeDestroy(){this.destroyResizeEvent(),this.myChart&&(this.myChart.dispose(),this.myChart=null)},activated(){this.initResizeEvent(),this.myChart&&this.myChart.resize()},deactivated(){this.destroyResizeEvent()}},p=(a(594),a(9)),m=Object(p.a)(u,(function(){var t=this._self._c;return t("div",{staticClass:"globe3d-earth-container"},[t("div",{ref:"Globe3d",staticClass:"globe3d-earth"})])}),[],!1,null,"fc472cd8",null);e.default=m.exports},943:function(t,e,a){"use strict";a.r(e);a(48);var i=a(495),s=a(469),n=a.n(s),r=a(451),o=a(498),h={name:"watchCity",mixins:[i.a],props:{width:{type:String,default:"100%"},height:{type:String,default:"408px"}},data:()=>({geoJson:{},parentInfo:[{cityName:"全国",code:1e5}]}),mounted(){this.$nextTick(()=>{this.getMapJson()})},methods:{getMapJson(){Object(r.a)(this.parentInfo[this.parentInfo.length-1].code).then(t=>{this.geoJson=t,this.getMapData()})},getMapData(){Object(o.a)(this.parentInfo[this.parentInfo.length-1].code).then(t=>{const e=t.data;this.initEchart(e)})},initEchart(t){this.myChart=n.a.init(this.$refs.seriesMap),n.a.registerMap(1===this.parentInfo.length?"china":"map",this.geoJson);const e=t.sort((t,e)=>e.value-t.value);let a=e[0].value,i=e[e.length-1].value;1===e.length&&(i=0),this.myChart.setOption({tooltip:{},visualMap:{min:i,max:a,left:"2%",bottom:"1%",calculable:!0,inRange:{color:["#24CFF4","#2E98CA","#1E62AC"]},textStyle:{color:"#24CFF4"}},series:[{name:"地图",type:"map",map:1===this.parentInfo.length?"china":"map",roam:!0,zoom:1.22,data:e,label:{normal:{show:!0,color:"rgb(249, 249, 249)",formatter:t=>{switch(t.name){case"内蒙古自治区":t.name="内蒙古";break;case"西藏自治区":t.name="西藏";break;case"新疆维吾尔自治区":t.name="新疆";break;case"宁夏回族自治区":t.name="宁夏";break;case"广西壮族自治区":t.name="广西";break;case"香港特别行政区":t.name="香港";break;case"澳门特别行政区":t.name="澳门"}return t.name}},emphasis:{show:!0,color:"#f75a00"}},itemStyle:{normal:{areaColor:"#24CFF4",borderColor:"#53D9FF",borderWidth:1.3,shadowBlur:15,shadowColor:"rgb(58,115,192)",shadowOffsetX:7,shadowOffsetY:6},emphasis:{areaColor:"#8dd7fc",borderWidth:1.6,shadowBlur:25}}}]},!0),this.myChart.getZr().off("click"),this.myChart.getZr().on("click",e=>{if(e.target){const a=e.target.dataIndex;if(a&&t[a]){if(this.parentInfo[this.parentInfo.length-1].code==t[a].adcode)return;this.parentInfo.push({cityName:t[a].name,code:t[a].adcode}),this.getMapJson(),this.$notify.info({title:"温馨提示",message:"点击地图空白处即可返回上一级"})}}else{if(1===this.parentInfo.length)return;this.parentInfo.pop(),this.getMapJson()}})}}},c=(a(595),a(9)),l=Object(c.a)(h,(function(){var t=this._self._c;return t("div",[t("el-card",{staticClass:"seriesmap-box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[this._v("城市分布图 (点击可下钻到县)")])]),this._v(" "),t("div",[t("div",{ref:"seriesMap",staticClass:"series-map",style:{height:this.height,width:this.width}})])])],1)}),[],!1,null,"04921dd3",null);e.default=l.exports}}]);